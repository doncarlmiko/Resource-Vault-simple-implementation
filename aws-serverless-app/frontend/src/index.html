<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Resource Vault | Serverless Items API</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="page">
    <header class="topbar">
      <div class="brand">
        <div class="brand-mark">RV</div>
        <div>
          <p class="eyebrow">AWS Serverless Sandbox</p>
          <h1>Resource Vault</h1>
          <p class="lede">Static playground for your Lambda + DynamoDB CRUD API.</p>
        </div>
      </div>
      <div class="badge">S3 hosted Â· client-side only</div>
    </header>

    <main class="content">
      <section class="card hero">
        <div class="hero-copy">
          <p class="eyebrow">Get started</p>
          <h2>Point this page at your API Gateway and start creating items.</h2>
          <p class="body">Paste your deployed invoke URL (no trailing slash), then use the forms below to POST, GET, PUT, or DELETE items.</p>

          <label class="field">
            <div class="field-label">API base URL</div>
            <div class="input-row">
              <input id="apiBase" name="apiBase" type="url" placeholder="https://abc123.execute-api.us-east-1.amazonaws.com/prod" aria-label="API base URL">
              <button id="saveBase" class="btn ghost" type="button">Save</button>
            </div>
            <p class="hint">Example final endpoints: <code>/items</code> and <code>/items/&lt;id&gt;</code>.</p>
          </label>

          <div class="hero-actions">
            <button id="createSample" class="btn primary" type="button">Create a sample item</button>
            <button id="clearLog" class="btn ghost" type="button">Clear log</button>
          </div>
        </div>

        <div class="card panel">
          <div class="panel-header">
            <div>
              <p class="eyebrow">Latest response</p>
              <p class="body">Decoded JSON from your last request.</p>
            </div>
            <span id="responseStatus" class="pill muted">Idle</span>
          </div>
          <pre id="latestResponse" class="code-block">Use the controls to send a request. Responses will appear here.</pre>
        </div>
      </section>

      <section class="grid two-col">
        <article class="card form-card">
          <div class="form-header">
            <div>
              <p class="eyebrow">Create</p>
              <h3>POST /items</h3>
              <p class="body">Create a fresh item with any fields you like.</p>
            </div>
            <span class="pill">POST</span>
          </div>
          <form id="createForm" class="stack">
            <label class="field">
              <span class="field-label">Name</span>
              <input id="createName" name="name" required placeholder="Telemetry package">
            </label>
            <label class="field">
              <span class="field-label">Owner</span>
              <input id="createOwner" name="owner" placeholder="observability-team">
            </label>
            <label class="field">
              <span class="field-label">Category</span>
              <input id="createCategory" name="category" placeholder="analytics">
            </label>
            <label class="field">
              <span class="field-label">Notes</span>
              <textarea id="createNotes" name="notes" rows="3" placeholder="What makes this resource useful?"></textarea>
            </label>
            <label class="field">
              <span class="field-label">Priority (optional)</span>
              <input id="createPriority" name="priority" type="number" min="0" max="10" step="1" placeholder="3">
            </label>
            <button class="btn primary" type="submit">Create item</button>
          </form>
        </article>

        <article class="card form-card">
          <div class="form-header">
            <div>
              <p class="eyebrow">Update</p>
              <h3>PUT /items/&lt;id&gt;</h3>
              <p class="body">Replace an existing item with the fields below.</p>
            </div>
            <span class="pill warning">PUT</span>
          </div>
          <form id="updateForm" class="stack">
            <label class="field">
              <span class="field-label">Item ID</span>
              <input id="updateId" name="id" required placeholder="uuid from the POST response">
            </label>
            <label class="field">
              <span class="field-label">Name</span>
              <input id="updateName" name="name" placeholder="Telemetry package">
            </label>
            <label class="field">
              <span class="field-label">Owner</span>
              <input id="updateOwner" name="owner" placeholder="observability-team">
            </label>
            <label class="field">
              <span class="field-label">Category</span>
              <input id="updateCategory" name="category" placeholder="analytics">
            </label>
            <label class="field">
              <span class="field-label">Notes</span>
              <textarea id="updateNotes" name="notes" rows="3" placeholder="New description"></textarea>
            </label>
            <label class="field">
              <span class="field-label">Priority (optional)</span>
              <input id="updatePriority" name="priority" type="number" min="0" max="10" step="1" placeholder="5">
            </label>
            <button class="btn accent" type="submit">Update item</button>
          </form>
        </article>
      </section>

      <section class="grid three-col">
        <article class="card form-card">
          <div class="form-header">
            <div>
              <p class="eyebrow">Read</p>
              <h3>GET /items/&lt;id&gt;</h3>
              <p class="body">Fetch an item by id and render the JSON below.</p>
            </div>
            <span class="pill info">GET</span>
          </div>
          <form id="readForm" class="stack">
            <label class="field">
              <span class="field-label">Item ID</span>
              <input id="readId" name="id" required placeholder="uuid from the POST response">
            </label>
            <button class="btn ghost" type="submit">Fetch item</button>
          </form>
        </article>

        <article class="card form-card">
          <div class="form-header">
            <div>
              <p class="eyebrow">Delete</p>
              <h3>DELETE /items/&lt;id&gt;</h3>
              <p class="body">Delete a record by id.</p>
            </div>
            <span class="pill danger">DELETE</span>
          </div>
          <form id="deleteForm" class="stack">
            <label class="field">
              <span class="field-label">Item ID</span>
              <input id="deleteId" name="id" required placeholder="uuid from the POST response">
            </label>
            <button class="btn danger" type="submit">Delete item</button>
          </form>
        </article>

        <article class="card tips">
          <p class="eyebrow">Helpful notes</p>
          <ul class="tip-list">
            <li>Requests use fetch from your browser directly to API Gateway.</li>
            <li>Keep CORS enabled on your API so the browser can reach it.</li>
            <li>POST creates a new UUID for every item stored in DynamoDB.</li>
            <li>PUT replaces the full item with the fields you provide.</li>
            <li>Responses are saved to the log below for quick debugging.</li>
          </ul>
        </article>
      </section>

      <section class="card log-card">
        <div class="form-header">
          <div>
            <p class="eyebrow">Request log</p>
            <h3>Recent requests</h3>
            <p class="body">Each entry shows method, path, status, and JSON payload.</p>
          </div>
        </div>
        <div id="log" class="log"></div>
      </section>
    </main>
  </div>

  <script src="app.js"></script>
</body>
</html>